# Код к тестовому заданию `Сервис для написания постов`

## Тестовое задание
Обязательный стек: Ruby 2.6+, Rails 6+, PostgreSQL, контейнеризация (опционально), фоновые задачи

Описание:
Реализовать сервис написания постов пользователями с привязкой к регионам России.

К постам сделать возможность прикладывания изображений и файлов (разделить при при отображении). Все посты должны иметь 4 состояния: черновик, на проверке, утвержден, отклонен. Изменение состояния постов фоновыми задачами.

Все пользователи должны быть разделены на 2 группы:

обычные пользователи — могут писать посты в свой регион, сохранять их как черновик, удалять свои посты (только в состоянии черновик), либо отправлять на проверку админам;
администраторы — могут писать посты (сразу утвержденные) в любой регион, утверждать/отклонять посты других юзеров. Видят только посты в состоянии на проверке.
Реализовать простую форму регистрации пользователей по логину/паролю. При создании пользователей заполнять поля ФИО, регион. Для обычных пользователей регион обязателен, для администраторов — нет. Админ должен быть внесен в БД изначально. В дальнейшем только админы могут добавлять других администраторов.

Сделать фильтр по регионам, авторам, дате/интервале размещения при просмотре списка постов.

Обеспечить возможность формировать отчет в виде xlsx файла на основе действующих фильтров, с указанием региона, текста поста, автора, ссылок на изображения/файлы (если таковые присутствуют), даты/времени размещения поста (присваивается при утверждении).

Интерфейс на усмотрение автора.

## Локальное развертывание:

1. Склонируйте репозиторий:
```bash
git clone git@github.com:i-karimov/writer-app.git
```
2. Перейдите в корневую директорию проекта:
```bash
cd writer-app
```
3. Запуститие сборку:
```bash
docker-compose build
```
4. Выполните миграции и предзаполнение таблиц:
```bash
docker-compose run web bundle install
docker-compose run web bundle exec rails db:prepare
```
5. Запустите приложение на http://localhost:3000:
```bash
docker-compose up
```



Запуск тестов:

```bash
docker-compose run web bundle exec rspec
```

## Войти как админ:
Email: `admin@admin.com` \
Пароль: `admin`

## Пароль базовых юзеров:

Пароль: `#13R1fr:wx,E`
